import { Canvas, Meta } from '@storybook/addon-docs/blocks';
import { penguins } from '../../../data/demoData';
import * as FacetedScatterPlot from './FacetedScatterPlot.stories.svelte';
import * as ScatterPlot from './ScatterPlot.stories.svelte';

<Meta title="Charts/Examples/Scatter Plot" />

# Scatter Plot Charts

### Default

<details>
    <summary class="cursor-pointer dark:text-color-text-inverse">Show spec</summary>
    ```javascript
	let spec = $derived({
		x: { insetLeft: 100, domain: [30, 65] },
		y: { domain: [7, 23] },
		color: {
			legend: true,
			range: [
				theme.currentMode.data.primary,
				theme.currentMode.data.secondary,
				theme.currentMode.data.tertiary
			]
		},
		marks: [
			Plot.gridX(),
			Plot.gridY(),
			Plot.axisX({ label: 'culmen_length_mm', labelArrow: true }),
			Plot.axisY({ label: 'culmen_depth_mm', labelArrow: true }),
			Plot.dot(penguins, {
				x: 'culmen_length_mm',
				y: 'culmen_depth_mm',
				fill: 'species',
				tip: true
			})
		]
	});
    ```
</details>

<details class="max-h-[300px] overflow-y-auto dark:text-color-text-inverse">
	<summary class="cursor-pointer">Show data</summary>
	<pre>{JSON.stringify(penguins, null, 2)}</pre>
</details>

<Canvas of={ScatterPlot.Default} />

### Faceted

<details>
    <summary class="cursor-pointer dark:text-color-text-inverse">Show spec</summary>
    ```javascript
     	const { defaultTip } = $derived(getDefaultPlotStyles());

    let spec = $derived({
    	marginTop: 60,
    	marginRight: 120,
    	x: { insetLeft: 50, insetRight: 20, domain: [30, 65] }, // adjust xscale inset to feel good with grid lines
    	y: { domain: [7, 24] },
    	facet: { data: penguins, x: 'sex', y: 'island' },
    	fx: { domain: ['MALE', 'FEMALE', ''] }, //Set order of facets
    	color: {
    		legend: true,
    		range: [
    			theme.currentMode.data.primary,
    			theme.currentMode.data.secondary,
    			theme.currentMode.data.tertiary
    		]
    	},
    	marks: [
    		Plot.gridX(),
    		Plot.gridY(),
    		Plot.axisX({ label: 'culmen_length_mm', labelArrow: true }),
    		Plot.axisY({ label: 'culmen_depth_mm', labelArrow: true }),
    		Plot.dot(penguins, {
    			x: 'culmen_length_mm',
    			y: 'culmen_depth_mm',
    			fill: 'species',
    			tip: { ...defaultTip } // apply default styling
    		})
    		// As alternative to spreading the defaultTip you could supply a tip mark
    		// Plot.tip(penguins, Plot.pointer({ x: 'culmen_length_mm', y: 'culmen_depth_mm' })) // apply default styling
    	]
    });
    ```

</details>

<details class="max-h-[300px] overflow-y-auto dark:text-color-text-inverse">
	<summary class="cursor-pointer">Show data</summary>
	<pre>{JSON.stringify(penguins, null, 2)}</pre>
</details>

<Canvas of={FacetedScatterPlot.Faceted} />
