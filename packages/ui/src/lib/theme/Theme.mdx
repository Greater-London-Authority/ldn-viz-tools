import { Meta } from '@storybook/blocks';

<Meta title="Ui/Components - Layout And Themes/Theme" />

# The Theme component

**Important**: Working with themes requires the inclusion of the "Theme" component at the top level Layout component of the app. (In Storybook this is provided by a default decorator so it should _just work_ when developing in Storybook)

The `@ldn-viz/ui` package exposes two theme 'modes' within a default theme. (Though we tend to use 'theme' and 'mode' interchangably we actually only have one theme with two modes)

- 'light'
- 'dark'

The current mode is determined by the users preference which is either:

- 'light'
- 'dark'
- 'system'

The user can select their preference with the {'<ThemeSwitcher>'} component. The {'<Theme>'} component persists this choice to local storage under two keys:

- ldn-viz-theme: (always ldn-viz)
- ldn-viz-theme-mode: 'light' | 'dark' | 'system'

the current mode: 'light' | 'dark' is then returned (depending on the preference within 'system' if that is selected).

The `@ldn-viz/ui` package also exposes:

- currentMode: 'light' | 'dark'
- currentTheme: the full current theme object
- tokenNameToValue: utility function
- colorTokenNameToRGBArray: utility function

## Example use

```js
import { theme } from '@ldn-viz/ui';

$inspect(theme.currentMode);
$inspect(theme.currentTheme);
$inspect(theme.tokenNameToValue('data.primary'));
$inspect(theme.colorTokenNameToRGBArray('data.primary'));
```

The utility functions default to using the current theme, but can take a second argument of a Theme Object in case you neet to retrieve a value outside of the currently selected theme
